# Subscript 2.0 Configuration

# --- Global Settings ---
output_dir: "output"
concurrency: 1 # Number of parallel files to process

# --- Segmentation Analysis ---
segmentation:
  default_segmentation: "historical-manuscript"
  
  # Define available segmentation models
  models:
    historical-manuscript:
      provider: "kraken"
      model: "default"

# --- Transcription ---
transcription:
  default_model: "gemini-pro-3"
  
  # Image Preprocessing Settings
  preprocessing:
    debug_image: true       # Save filename-debug.jpg for debugging purposes
    resize_image: "large"   # constrain both dimension to 3000px (large), 2000px (medium), 1000px (small), or false
    contrast: 1.0           # Contrast factor (1.0 = no change)
    binarize: false          # Apply Otsu's binarization (converts to grayscale first)
    invert: false            # Invert colors (negative)

  # Define available models here
  models:
    gemini-pro-3:
      provider: "gemini"
      model: "gemini-3-pro-preview"
      prompt: |
        You are a literal transcription engine for 19th-century handwritten manuscripts. Extract text from the 
        supplied image exactly as written. Output only the transcribed text, with no commentary, no preamble, 
        no markdown, and no generated text after the transcription. Preserve all original spelling, punctuation, 
        capitalization, and line breaks. Do not modernize, interpret, or expand abbreviations. The only modernization
        you should perform is to modernize obsolete charactes (example, print "s" not "Å¿". Output begins 
        immediately with the first character of the transcription and ends immediately after the last character 
        of transcription.
      cost_config:
        input_token_cost: 2.0
        output_token_cost: 12.0
      API_passthrough: # provide model-specific settings here
        temperature: 0.8
        max_output_tokens: 65535
        top_p: 0.95
        top_k: 64

    gemini-pro-2.5:
      provider: "gemini"
      model: "gemini-2.5-pro"
      prompt: |
        You are a literal transcription engine for 19th-century handwritten manuscripts. Extract text from the 
        supplied image exactly as written. Output only the transcribed text, with no commentary, no preamble, 
        no markdown, and no generated text after the transcription. Preserve all original spelling, punctuation, 
        capitalization, and line breaks. Do not modernize, interpret, or expand abbreviations. Output begins 
        immediately with the first character of the transcription and ends immediately after the last character 
        of transcription.
      cost_config:
        input_token_cost: 2.0
        output_token_cost: 12.0
      API_passthrough: # provide model-specific settings here
        temperature: 0.8
        max_output_tokens: 8192
        top_p: 0.95
        top_k: 64

    gemini-flash:
      provider: "gemini"
      model: "gemini-2.5-flash"
      prompt: |
        You are a literal transcription engine for 19th-century handwritten manuscripts. Extract text from the 
        supplied image exactly as written. Output only the transcribed text, with no commentary, no preamble, 
        no markdown, and no generated text after the transcription. Preserve all original spelling, punctuation, 
        capitalization, and line breaks. Do not modernize, interpret, or expand abbreviations. Output begins 
        immediately with the first character of the transcription and ends immediately after the last character 
        of transcription.
      cost_config:
        input_token_cost: 0.3
        output_token_cost: 2.5
      API_passthrough: # provide model-specific settings here
        temperature: 0.0
        max_output_tokens: 8192

    gemini-flash-lite:
      provider: "gemini"
      model: "gemini-2.5-flash-lite"
      prompt: |
        You are a literal transcription engine for 19th-century handwritten manuscripts. Extract text from the 
        supplied image exactly as written. Output only the transcribed text, with no commentary, no preamble, 
        no markdown, and no generated text after the transcription. Preserve all original spelling, punctuation, 
        capitalization, and line breaks. Do not modernize, interpret, or expand abbreviations. Output begins 
        immediately with the first character of the transcription and ends immediately after the last character 
        of transcription.
      cost_config:
        input_token_cost: 0.1
        output_token_cost: 0.4
      API_passthrough: # provide model-specific settings here
        temperature: 0.0
        max_output_tokens: 8192

    gpt-4o:
      provider: "openai"
      model: "gpt-4o"
      prompt: "Transcribe this handwritten text exactly as written."
      cost_config:
        input_token_cost: 2.5
        output_token_cost: 10.0
      API_passthrough: # provide model-specific settings here
        temperature: 0.0
        max_output_tokens: 4096

    claude-sonnet:
      provider: "anthropic"
      model: "claude-sonnet-4-5-20250929"      
      prompt: "Transcribe this handwritten text exactly as written."
      cost_config:
        input_token_cost: 3.0
        output_token_cost: 15.0
      API_passthrough: # provide model-specific settings here
        temperature: 0.0
        max_output_tokens: 4096
