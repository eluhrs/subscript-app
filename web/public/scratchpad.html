<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subscript UI Scratchpad v13</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #9ca3af;
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background-color: #6b7280;
        }

        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: #5B84B1;
            cursor: pointer;
            margin-top: -6px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #E5E7EB;
            border-radius: 2px;
        }

        fieldset {
            border: 1px solid #D1D5DB;
            /* gray-300 */
            border-radius: 0.5rem;
            margin-top: 2rem;
            background: #E5E7EB;
            /* gray-200 */
        }

        legend {
            padding: 0 0.5rem;
            color: #4B5563;
            /* gray-600 */
            font-size: 0.75rem;
            /* xs */
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Styles for Custom Tooltip Logic */
        .tooltip-trigger:hover+.custom-tooltip,
        .custom-tooltip:hover {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen p-8">

    <div class="fixed top-0 left-0 bg-yellow-500 text-white px-2 py-1 text-xs font-bold z-50">v13: Gray Button (#f3f4f6)
    </div>

    <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-[#3A5A80] mb-6">New Document</h2>

        <div class="bg-[#EDEDEB] shadow-xl rounded-xl p-6 border border-gray-500">

            <!-- Drag and Drop Placeholder -->
            <div
                class="border-4 border-dashed border-[#5B84B1] rounded-xl bg-white p-12 text-center text-gray-400 mb-6">
                <i data-lucide="upload-cloud" class="h-12 w-12 mx-auto mb-3 text-[#5B84B1]"></i>
                [File Upload Area Placeholder]
            </div>

            <!-- Main Controls Row -->
            <div class="flex items-center gap-4 mb-2">

                <!-- Options Button: #f3f4f6 with gray/dark text -->
                <button onclick="toggleAdvanced()"
                    class="flex items-center gap-2 px-3 py-2 bg-[#f3f4f6] border border-gray-300 rounded-lg hover:bg-white hover:border-gray-400 transition shadow-sm text-gray-700 hover:text-[#3A5A80] hover:shadow-md">
                    <i data-lucide="sliders-horizontal" class="h-4 w-4"></i>
                    <span class="text-xs font-semibold uppercase tracking-wide">Options</span>
                    <i id="chevron" data-lucide="chevron-down" class="h-3 w-3 transition-transform"></i>
                </button>

                <!-- Filename Input -->
                <div class="flex items-center gap-2 flex-grow">
                    <label class="text-sm font-bold text-gray-600 whitespace-nowrap">Filename:</label>
                    <div class="relative flex-grow">
                        <input type="text" placeholder="Optionally merge multiple images into a single PDF file"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#5B84B1] focus:border-[#5B84B1] outline-none text-sm shadow-sm placeholder-gray-400">
                    </div>
                </div>
            </div>

            <!-- Advanced Options Panel -->
            <div id="advanced-options" class="hidden transform transition-all duration-300 ease-in-out">
                <div class="bg-gray-100 rounded-lg border border-gray-300 shadow-inner p-4 mt-2 relative">

                    <!-- Reset Defaults -->
                    <button
                        class="absolute top-2 right-5 text-[10px] text-red-500 hover:text-red-700 hover:underline flex items-center gap-1 z-10 font-bold bg-gray-100 px-2 rounded">
                        <i data-lucide="rotate-ccw" class="h-3 w-3"></i> Reset Defaults
                    </button>

                    <!-- Padded Fieldset -->
                    <fieldset style="padding: 1.25rem !important;">
                        <legend>Model & Behavior Settings</legend>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">

                            <!-- Model Selection -->
                            <div class="bg-white border border-gray-300 rounded p-4 shadow-sm relative group">
                                <div class="flex items-center justify-between mb-2">
                                    <label class="text-xs font-semibold text-gray-600 flex items-center gap-2">
                                        Model
                                    </label>

                                    <!-- Tooltip Trigger -->
                                    <i data-lucide="circle-help"
                                        class="tooltip-trigger h-3 w-3 text-gray-400 hover:text-[#5B84B1] cursor-help z-20 relative"></i>

                                    <!-- Custom Tooltip -->
                                    <div
                                        class="custom-tooltip absolute top-0 left-0 w-full h-full bg-white bg-opacity-95 backdrop-blur-sm p-4 rounded border border-blue-100 shadow-lg text-[10px] text-gray-700 flex items-center z-10 opacity-0 invisible transition-all duration-200">
                                        <div>
                                            Selects the underlying AI engine. <strong>Pro</strong> models generally
                                            provide higher accuracy for difficult handwriting or complex layouts, while
                                            <strong>Flash</strong> models are faster and more cost-effective.
                                        </div>
                                    </div>
                                </div>
                                <select
                                    class="block w-full pl-2 pr-8 py-2 text-xs border-gray-300 rounded border focus:ring-[#5B84B1] focus:border-[#5B84B1] relative z-0">
                                    <option value="gemini-pro-3">Gemini 3.0 Pro</option>
                                    <option value="gemini-pro-2.5">Gemini 2.5 Pro</option>
                                    <option value="gemini-flash-2.5">Gemini 2.5 Flash</option>
                                    <option value="gemini-flash-lite-2.5">Gemini 2.5 Flash Lite</option>
                                    <option value="openai-gpt-4o">OpenAI GPT-4o</option>
                                    <option value="claude-sonnet-4.5">Claude 3.5 Sonnet</option>
                                </select>
                            </div>

                            <!-- Temperature -->
                            <div class="bg-white border border-gray-300 rounded p-4 shadow-sm relative group">
                                <div class="flex items-center justify-between mb-2">
                                    <label class="text-xs font-semibold text-gray-600 flex items-center gap-2">
                                        Temperature
                                    </label>

                                    <!-- Tooltip Trigger -->
                                    <i data-lucide="circle-help"
                                        class="tooltip-trigger h-3 w-3 text-gray-400 hover:text-[#5B84B1] cursor-help z-20 relative"></i>

                                    <!-- Custom Tooltip -->
                                    <div
                                        class="custom-tooltip absolute top-0 left-0 w-full h-full bg-white bg-opacity-95 backdrop-blur-sm p-4 rounded border border-blue-100 shadow-lg text-[10px] text-gray-700 flex items-center z-10 opacity-0 invisible transition-all duration-200">
                                        <div>
                                            Controls the model's creativity (0.0 to 1.0). <strong>Lower values (around
                                                0.2)</strong> are recommended for strict, literal transcription. Higher
                                            values increase variability but may lead to hallucinations or inaccuracies.
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 mt-3 relative z-0">
                                    <span class="text-[10px] text-gray-500 font-mono w-4">0</span>
                                    <input type="range" min="0" max="1" step="0.1" value="0.8"
                                        class="flex-grow h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                    <span class="text-[10px] text-gray-500 font-mono w-6 text-right">0.8</span>
                                </div>
                            </div>
                        </div>

                        <!-- System Prompt -->
                        <div class="bg-white border border-gray-300 rounded p-4 shadow-sm relative group">
                            <div class="flex items-center justify-between mb-2">
                                <label class="text-xs font-semibold text-gray-600 flex items-center gap-2">
                                    System Prompt
                                </label>

                                <!-- Tooltip Trigger -->
                                <i data-lucide="circle-help"
                                    class="tooltip-trigger h-3 w-3 text-gray-400 hover:text-[#5B84B1] cursor-help z-20 relative"></i>

                                <!-- Custom Tooltip -->
                                <div
                                    class="custom-tooltip absolute top-0 left-0 w-full h-full bg-white bg-opacity-95 backdrop-blur-sm p-4 rounded border border-blue-100 shadow-lg text-[10px] text-gray-700 flex flex-col justify-center z-10 opacity-0 invisible transition-all duration-200">
                                    <div class="mb-1">
                                        Emends the default transcription instructions. Use this to enforce specific
                                        formatting rules (e.g., 'Convert all dates to ISO format' or 'Modernize
                                        spelling').
                                    </div>
                                    <div class="font-bold text-red-500">
                                        Important: Do not instruct the model to ignore JSON formatting, as the
                                        application relies on structured output to render the page.
                                    </div>
                                </div>
                            </div>

                            <textarea rows="3" placeholder="Enter custom system instructions..."
                                class="w-full p-2 border border-gray-300 rounded text-[10px] font-mono focus:ring-1 focus:ring-[#5B84B1] outline-none leading-relaxed transition resize-none relative z-0"
                                spellcheck="false"></textarea>
                        </div>
                    </fieldset>
                </div>
            </div>

            <!-- Action Button -->
            <button
                class="w-full py-3 px-4 border border-gray-600 rounded-lg shadow-lg text-lg font-semibold text-white bg-[#5B84B1] mt-6 hover:bg-[#4A6D94] transition">
                Begin Transcribing
            </button>
        </div>
    </div>

    <script>
        lucide.createIcons();

        function toggleAdvanced() {
            const panel = document.getElementById('advanced-options');
            const chevron = document.getElementById('chevron');

            if (panel.classList.contains('hidden')) {
                panel.classList.remove('hidden');
                chevron.classList.add('rotate-180');
            } else {
                panel.classList.add('hidden');
                chevron.classList.remove('rotate-180');
            }
        }
    </script>
</body>

</html>